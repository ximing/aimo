# PRD: 侧边栏与 Memo 区域居中布局优化

## 介绍

当前宽屏幕下，首页的侧边栏（热力图）与 memo 列表区域之间存在过大间隙，且 memo 区域两侧留白过多，导致视觉分散、内容不集中。本 PRD 优化布局，使侧边栏与 memo 区域作为一个整体居中展示，提升视觉聚焦度。

## 目标

- 侧边栏（300px 固定宽度）与 memo 区域（最大 640px）作为一个整体水平居中
- 移除两者之间的过度间隙，保持紧密排列
- 保持现有响应式行为：宽度不足时侧边栏收起，点击后作为浮层覆盖
- 保持各区域原有宽度不变

## 用户故事

### US-001: 调整首页布局为整体居中
**描述：** 作为用户，我希望侧边栏和 memo 区域作为一个整体居中显示，使页面视觉更集中、减少两侧过多的空白。

**验收标准：**
- [ ] 侧边栏宽度保持 300px 固定
- [ ] memo 区域最大宽度保持 640px
- [ ] 侧边栏与 memo 区域紧密排列，作为一个整体在页面水平居中
- [ ] 整体布局容器计算最小宽度为：300px + gap + 640px
- [ ] 页面宽度小于最小宽度时，保持现有响应式行为（侧边栏收起）
- [ ] Typecheck 通过
- [ ] 使用 dev-browser skill 在浏览器中验证视觉效果

### US-002: 验证响应式交互保持不变
**描述：** 作为用户，我希望在窄屏设备上保持现有的侧边栏交互方式，不影响移动端体验。

**验收标准：**
- [ ] 页面宽度不足以容纳两侧边栏 + memo 区域时，侧边栏自动收起
- [ ] 点击菜单按钮后，侧边栏作为浮层覆盖在 memo 区域上方
- [ ] 浮层模式下的侧边栏交互与修改前完全一致
- [ ] 从窄屏拖动到宽屏时，布局正确切换为居中双栏模式
- [ ] Typecheck 通过
- [ ] 使用 dev-browser skill 验证不同屏幕尺寸下的行为

## 功能需求

- FR-1: 首页主容器（`apps/web/src/pages/home/home.tsx`）布局改为 flex/grid 实现整体居中
- FR-2: 侧边栏容器宽度固定为 300px，不可伸缩
- FR-3: memo 区域容器最大宽度为 640px，在范围内自适应
- FR-4: 两容器之间保持原有间隔或紧密排列（由具体设计决定，建议 16-24px）
- FR-5: 整体布局居中计算：当页面宽度 ≥ (300 + gap + 640)px 时，整体水平居中
- FR-6: 响应式断点保持不变：宽度不足时触发侧边栏收起逻辑
- FR-7: 侧边栏收起后的浮层交互逻辑保持不变

## 非目标

- 不修改侧边栏内部热力图的任何样式或交互
- 不修改 memo 列表内部的卡片样式或交互
- 不改变侧边栏收起/展开的触发逻辑（断点值保持不变）
- 不添加新的动画效果
- 不影响其他页面的布局

## 设计考虑

### 布局结构
```
┌─────────────────────────────────────────────────────────────┐
│                         页面宽度                              │
│  ┌──────────────────────────────────────────────────────┐   │
│  │                  居中容器 (max-content)                │   │
│  │  ┌──────────┐  ┌──────────────────────────────────┐  │   │
│  │  │ Sidebar  │  │         Memo List Area           │  │   │
│  │  │ (300px)  │  │         (max 640px)              │  │   │
│  │  └──────────┘  └──────────────────────────────────┘  │   │
│  └──────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

### 技术实现建议
- 使用 `margin: 0 auto` 或 `justify-content: center` 实现水平居中
- 整体容器使用 `width: fit-content` 或 `max-width` 限制
- 保持现有 `isSidebarOpen` 等状态管理逻辑不变
- 响应式断点检查当前值，确保行为一致

## 技术考虑

### 涉及文件
- `apps/web/src/pages/home/home.tsx` - 主布局文件
- 可能涉及的样式文件（如使用 CSS modules 或 styled-components）

### 关键检查点
1. 确认当前侧边栏宽度的具体数值（目标 300px）
2. 确认当前 memo 区域最大宽度（目标 640px）
3. 确认响应式断点的具体数值
4. 确认侧边栏收起时的状态管理逻辑

### 风险与注意事项
- 修改布局容器可能影响 z-index 层级，需验证浮层模式正常
- 确保 `gap` 或 `margin` 的计算不会导致整体宽度溢出

## 成功指标

- 在 1440px 及以上宽屏下，侧边栏 + memo 区域整体视觉居中
- 侧边栏与 memo 区域间距合理（不超过 24px）
- 移动端/窄屏下交互行为与修改前完全一致
- 布局切换时无闪烁或抖动

## 待解决问题

- [ ] 确认当前代码中侧边栏和 memo 区域的具体宽度数值
- [ ] 确认两区域之间是否需要保留间隙（gap）以及具体数值
