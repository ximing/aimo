# Server Configuration
PORT=3000
NODE_ENV=development

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true

# LanceDB Configuration - Storage Type (local or s3)
LANCEDB_STORAGE_TYPE=local

# LanceDB Local Storage Path (used when LANCEDB_STORAGE_TYPE=local)
LANCEDB_PATH=./lancedb_data

# LanceDB S3 Storage Configuration (used when LANCEDB_STORAGE_TYPE=s3)
# LANCEDB_S3_BUCKET=your-bucket-name
# LANCEDB_S3_PREFIX=lancedb
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# LANCEDB_S3_ENDPOINT=http://minio:9000 # Optional: S3-compatible endpoint (e.g., MinIO)

# OpenAI Configuration for Embedding
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=text-embedding-3-small
OPENAI_BASE_URL=https://api.openai.com/v1
# Embedding dimensions (should match your embedding model's output dimension)
# - OpenAI text-embedding-3-small: 1536 (default)
# - OpenAI text-embedding-3-large: 3072
# - Custom embedding services: check their documentation
# This value is used to define the FixedSizeList schema for memos and embedding_cache tables
OPENAI_EMBEDDING_DIMENSIONS=1536

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-change-in-production

# Backup Configuration
# Enable backup feature
BACKUP_ENABLED=false

# Backup storage type: local or s3 (s3-compatible services)
BACKUP_STORAGE_TYPE=local

# Backup throttle interval in milliseconds (default: 3600000 = 1 hour)
BACKUP_THROTTLE_INTERVAL_MS=3600000

# Backup retention policy
# Maximum number of backups to keep
BACKUP_MAX_COUNT=10
# Maximum days to keep backups
BACKUP_MAX_DAYS=30

# Local backup storage configuration (used when BACKUP_STORAGE_TYPE=local)
BACKUP_LOCAL_PATH=./backups

# S3-compatible backup storage configuration (used when BACKUP_STORAGE_TYPE=s3)
# Supports: AWS S3, MinIO, Aliyun OSS, DigitalOcean Spaces, etc.
# BACKUP_S3_BUCKET=your-bucket-name
# BACKUP_S3_PREFIX=backups
# BACKUP_AWS_ACCESS_KEY_ID=your-access-key
# BACKUP_AWS_SECRET_ACCESS_KEY=your-secret-key
# BACKUP_AWS_REGION=us-east-1
# BACKUP_S3_ENDPOINT=http://minio:9000 # Optional: for MinIO, Aliyun OSS, etc.
# Examples:
#   AWS S3: leave endpoint empty
#   MinIO: http://minio:9000 or https://minio.example.com
#   Aliyun OSS: oss-cn-beijing.aliyuncs.com or oss-cn-hangzhou.aliyuncs.com

# Attachment Configuration
# Attachment storage type: local or s3 (s3-compatible services)
ATTACHMENT_STORAGE_TYPE=local

# Maximum file size in bytes (default: 52428800 = 50MB)
ATTACHMENT_MAX_FILE_SIZE=52428800

# Allowed MIME types (comma-separated, leave empty to use defaults)
# ATTACHMENT_ALLOWED_MIME_TYPES=image/png,image/jpeg,application/pdf

# S3 presigned URL expiry time in seconds (default: 3600 = 1 hour)
# Only used when bucket is private (ATTACHMENT_S3_IS_PUBLIC=false)
ATTACHMENT_PRESIGNED_URL_EXPIRY=3600

# Local attachment storage configuration (used when ATTACHMENT_STORAGE_TYPE=local)
ATTACHMENT_LOCAL_PATH=./attachments

# S3-compatible attachment storage configuration (used when ATTACHMENT_STORAGE_TYPE=s3)
# Supports: AWS S3, MinIO, Aliyun OSS, DigitalOcean Spaces, etc.
# ATTACHMENT_S3_BUCKET=your-bucket-name
# ATTACHMENT_S3_PREFIX=attachments
# ATTACHMENT_AWS_ACCESS_KEY_ID=your-access-key
# ATTACHMENT_AWS_SECRET_ACCESS_KEY=your-secret-key
# ATTACHMENT_AWS_REGION=us-east-1
# ATTACHMENT_S3_ENDPOINT=http://minio:9000 # Optional: for MinIO, Aliyun OSS, etc.
# ATTACHMENT_S3_IS_PUBLIC=false # Set to true for public buckets (direct URLs), false for private buckets (presigned URLs)
# Examples:
#   AWS S3: leave endpoint empty
#   MinIO: http://minio:9000 or https://minio.example.com
#   Aliyun OSS: oss-cn-beijing.aliyuncs.com or oss-cn-hangzhou.aliyuncs.com