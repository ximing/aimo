# Server Configuration
PORT=3000
NODE_ENV=development

# Logger Configuration
# Log file directory (default: ./logs)
AIMO_LOG_DIR=./logs
# Log level: trace, debug, info, warn, error (default: info)
AIMO_LOG_LEVEL=info

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true

# Database Configuration (Drizzle ORM)
# Database type: mysql, postgresql, or sqlite
DATABASE_TYPE=mysql
# Connection pool size (default: 10)
DATABASE_POOL_SIZE=10

# Database connection URL (optional - if provided, overrides individual params below)
# MySQL format: mysql://username:password@host:port/database
# PostgreSQL format: postgresql://username:password@host:port/database
# Example: DATABASE_URL=mysql://root:password@localhost:3306/aimo

# MySQL Configuration (used when DATABASE_TYPE=mysql and DATABASE_URL not set)
DATABASE_MYSQL_HOST=localhost
DATABASE_MYSQL_PORT=3306
DATABASE_MYSQL_USERNAME=root
DATABASE_MYSQL_PASSWORD=your-password
DATABASE_MYSQL_DATABASE=aimo

# PostgreSQL Configuration (used when DATABASE_TYPE=postgresql)
# DATABASE_POSTGRES_HOST=localhost
# DATABASE_POSTGRES_PORT=5432
# DATABASE_POSTGRES_USERNAME=postgres
# DATABASE_POSTGRES_PASSWORD=your-password
# DATABASE_POSTGRES_DATABASE=aimo

# SQLite Configuration (used when DATABASE_TYPE=sqlite)
# DATABASE_SQLITE_PATH=./aimo.db

# LanceDB Configuration - Storage Type (local or s3)
LANCEDB_STORAGE_TYPE=local

# LanceDB Local Storage Path (used when LANCEDB_STORAGE_TYPE=local)
LANCEDB_PATH=./lancedb_data

# LanceDB S3 Storage Configuration (used when LANCEDB_STORAGE_TYPE=s3)
# LANCEDB_S3_BUCKET=your-bucket-name
# LANCEDB_S3_PREFIX=lancedb
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# LANCEDB_S3_ENDPOINT=http://minio:9000 # Optional: S3-compatible endpoint (e.g., MinIO)

# LanceDB Version Retention Policy (default: 7 days)
LANCEDB_VERSION_RETENTION_DAYS=7

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key
# Chat model for AI exploration (e.g., gpt-4o-mini, gpt-4o)
OPENAI_MODEL=gpt-4o-mini
# Embedding model for vector search (e.g., text-embedding-3-small, text-embedding-v4)
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_BASE_URL=https://api.openai.com/v1
# Embedding dimensions (should match your embedding model's output dimension)
# - OpenAI text-embedding-3-small: 1536 (default)
# - OpenAI text-embedding-3-large: 3072
# - Custom embedding services: check their documentation
# This value is used to define the FixedSizeList schema for memos and embedding_cache tables
OPENAI_EMBEDDING_DIMENSIONS=1536

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-change-in-production

# Database Optimization Scheduler Configuration
# Cron expression for database optimization (default: '0 2 * * *' - daily at 2 AM)
DB_OPTIMIZATION_CRON=0 2 * * *

# Attachment Configuration
# Attachment storage type: local, s3, or oss
ATTACHMENT_STORAGE_TYPE=local

# Maximum file size in bytes (default: 52428800 = 50MB)
ATTACHMENT_MAX_FILE_SIZE=52428800

# Allowed MIME types (comma-separated, leave empty to use defaults)
# ATTACHMENT_ALLOWED_MIME_TYPES=image/png,image/jpeg,application/pdf

# Presigned URL expiry time in seconds (default: 43200 = 12 hours)
# Only used when bucket is private (S3/OSS_IS_PUBLIC=false)
ATTACHMENT_PRESIGNED_URL_EXPIRY=43200

# Local attachment storage configuration (used when ATTACHMENT_STORAGE_TYPE=local)
ATTACHMENT_LOCAL_PATH=./attachments

# S3-compatible attachment storage configuration (used when ATTACHMENT_STORAGE_TYPE=s3)
# Supports: AWS S3, MinIO, DigitalOcean Spaces, etc.
# ATTACHMENT_S3_BUCKET=your-bucket-name
# ATTACHMENT_S3_PREFIX=attachments
# ATTACHMENT_S3_ACCESS_KEY_ID=your-access-key
# ATTACHMENT_S3_SECRET_ACCESS_KEY=your-secret-key
# ATTACHMENT_S3_REGION=us-east-1
# ATTACHMENT_S3_ENDPOINT=http://minio:9000 # Optional: for MinIO, etc.
# ATTACHMENT_S3_IS_PUBLIC=false # Set to true for public buckets (direct URLs), false for private buckets (presigned URLs)
# Examples:
#   AWS S3: leave endpoint empty
#   MinIO: http://minio:9000 or https://minio.example.com

# Aliyun OSS attachment storage configuration (used when ATTACHMENT_STORAGE_TYPE=oss)
# Uses ali-oss official library for complete feature support
# ATTACHMENT_OSS_BUCKET=your-bucket-name
# ATTACHMENT_OSS_PREFIX=attachments
# ATTACHMENT_OSS_ACCESS_KEY_ID=your-access-key-id
# ATTACHMENT_OSS_ACCESS_KEY_SECRET=your-access-key-secret
# ATTACHMENT_OSS_REGION=cn-hangzhou
# ATTACHMENT_OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com # Optional
# ATTACHMENT_OSS_IS_PUBLIC=false # Set to true for public buckets

# Multimodal Embedding Configuration (DashScope)
MULTIMODAL_EMBEDDING_ENABLED=true
MULTIMODAL_EMBEDDING_MODEL=qwen3-vl-embedding
DASHSCOPE_API_KEY=your-dashscope-key-here
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/api/v1
MULTIMODAL_EMBEDDING_DIMENSION=2560
MULTIMODAL_EMBEDDING_OUTPUT_TYPE=dense
MULTIMODAL_EMBEDDING_VIDEO_FPS=0.5

# Fun-ASR Configuration (Speech-to-Text)
# Fun-ASR API Key (same as DashScope API key for now)
FUN_ASR_API_KEY=your-dashscope-key-here
# Fun-ASR base URL: 北京地域 https://dashscope.aliyuncs.com/api/v1
# 新加坡地域 https://dashscope-intl.aliyuncs.com/api/v1
FUN_ASR_BASE_URL=https://dashscope.aliyuncs.com/api/v1
# Fun-ASR model
FUN_ASR_MODEL=fun-asr

# OCR Configuration (Layout Parsing)
# Whether to enable OCR service (default: true)
OCR_ENABLED=true
# Default OCR provider: zhipu
OCR_DEFAULT_PROVIDER=zhipu
# Zhipu API Key (for GLM-OCR)
ZHIPU_API_KEY=your-zhipu-api-key
# Zhipu OCR API Base URL
ZHIPU_OCR_BASE_URL=https://open.bigmodel.cn/api

# Locale Configuration
# Language code (e.g., 'zh-cn' for Simplified Chinese, 'en-us' for English)
LOCALE_LANGUAGE=zh-cn
# Timezone (e.g., 'Asia/Shanghai', 'UTC', 'America/New_York')
LOCALE_TIMEZONE=Asia/Shanghai